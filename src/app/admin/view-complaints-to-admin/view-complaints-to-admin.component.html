<div class="container">

    <h1 class="text-center">Complaints</h1>
    <div class="row">
        <div class="col-md-6">
            <h2 class="text-primary">Complaint From</h2>
            <h3><b>Name:</b>{{complaints.user.fullname}}</h3>
            <h3><b>Email:</b>{{complaints.user.username}}</h3>
            <h3><b>Phone:</b>{{complaints.user.phone}}</h3>
        </div>
        <div class="col-md-6">
            <h2 class="text-primary">About Complaint</h2>
            <h3><b>Subject: </b>{{complaints.complaint_sub}}</h3>
            <h3><b>Complaint:</b>{{complaints.complaint}}</h3>

        </div>
    </div>
    <div class="row">
        <div class="col-md-6">
           
           
            <div *ngIf="!isReply">
                <h2 class="text-success"><b>Reply</b></h2>
                <p>
                    {{reply.reply}}

                </p>
                <h3>
                    Replied By: <br>
                    {{reply.user.fullname}}<br>
                    {{reply.timestamp | date:'dd/MM/yyyy'}} at   {{reply.timestamp | date:'hh:mm'}}
                </h3>

            </div>
            

        </div>
        <div class="col-md-6" *ngIf="isReply">
            <h2 class="text-success">Replay</h2>
           <form [formGroup]="replyForm" (ngSubmit)="onSubmit()" >
               <textarea class="form-control" rows="5" formControlName="reply">

               </textarea>
               <div class="text-danger" *ngIf="replyForm.controls['reply'] && replyForm.controls['reply'].invalid && replyForm.controls['reply'].touched">
                Reply is required
            </div>
            <div class="text-danger" *ngIf="replyForm.controls['reply'] && replyForm.controls['reply'].hasError('minlength')">
                Reply should have minimum length 3
            </div>
            <div class="text-danger" *ngIf="replyForm.controls['reply'] && replyForm.controls['reply'].hasError('maxlength')">
                Reply should have maximum length 1000
            </div>
               <button type="submit" class="btn btn-primary" [disabled]="!replyForm.valid">Send</button>
           </form>
        </div>
    </div>
   
    

</div>

